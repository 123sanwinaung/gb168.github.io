<!DOCTYPE html>
<html lang="my">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GB168 – ဆက်သွယ်ရန် App</title>

  <!-- Open Graph & Twitter Meta Tags -->
  <meta property="og:title" content="GB168 ဆက်သွယ်ရန်" />
  <meta property="og:description" content="Telegram, Viber နဲ့ တိုက်ရိုက်ဆက်သွယ်နိုင်ဖို့ နှိပ်လိုက်ပါ။" />
  <meta property="og:image" content="https://i.ibb.co/k6Hdvjw0/photo-2025-06-12-22-02-45-removebg-preview.png" />
  <meta property="og:url" content="https://gb168mm.github.io/gb168mm/" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Facebook Pixel Code -->
  <script>
    !function(f,b,e,v,n,t,s){
      if(f.fbq)return;
      n=f.fbq=function(){n.callMethod ?
        n.callMethod.apply(n,arguments) : n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;
      n.push=n; n.loaded=!0; n.version='2.0';
      n.queue=[]; t=b.createElement(e); t.async=!0;
      t.src=v; s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)
    }(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
    
    // သင့်ရဲ့ Pixel ID ကိုဒီမှာထည့်ပါ
    fbq('init', '1454414705752370'); 
    fbq('track', 'PageView');
    
    // Event တွေကို တစ်ခါပဲတက်အောင် ကာကွယ်မယ့် Function
    function trackFbEvent(eventName, params = {}) {
      const eventKey = `fb_${eventName}`;
      if (!sessionStorage.getItem(eventKey)) {
        fbq('track', eventName, {
          content_category: 'Social_Media',
          value: 1,
          currency: 'USD',
          ...params
        });
        sessionStorage.setItem(eventKey, 'true');
      }
    }
  </script>
  <noscript>
    <img height="1" width="1" style="display:none" 
         src="https://www.facebook.com/tr?id=YOUR_PIXEL_ID_HERE&ev=PageView&noscript=1"/>
  </noscript>

  <!-- Google Analytics (GA4) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YOUR_GA4_ID"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    
    // သင့်ရဲ့ GA4 Measurement ID ကိုဒီမှာထည့်ပါ
    gtag('config', 'G-6EQP5J2594');
    
    // GA4 Event Tracking Function
    function trackGaEvent(action, params = {}) {
      const eventKey = `ga_${action}`;
      if (!sessionStorage.getItem(eventKey)) {
        gtag('event', action, {
          event_category: 'Social_Media',
          value: 1,
          ...params
        });
        sessionStorage.setItem(eventKey, 'true');
      }
    }
  </script>

  <style>
    /* CSS Styles များ ဒီအတိုင်းပဲထားနိုင်ပါတယ် */
    :root {
      --telegram-color: #0088cc;
      --viber-color: #665CAC;
      --viber2-color: #7b52ff;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      color: #fff;
      background: url('https://gb168mm.github.io/gb168mm/assets/S_3466_080612.webp') no-repeat center center fixed;
      background-size: cover;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      text-align: center;
      line-height: 1.6;
      padding: 10px;
    }
    /* ကျန်တဲ့ CSS တွေကို သင့်ရဲ့မူရင်းကုဒ်အတိုင်းထားနိုင်ပါတယ် */
  </style>
</head>
<body>

  <div class="gb-title">
    <img src="https://gb168mm.github.io/gb168mm/assets/Promo%203D%20editable%20text%20effect%20PNG%20%20gold.webp" 
         alt="GB168 Logo" 
         loading="eager"
         width="400"
         height="200">
  </div>

  <p class="subtitle highlight">
    GB168 ဝဘ်ဆိုဒ်မှ ကြိုဆိုပါတယ်။ မြန်မာနိုင်ငံတွင် ၈ နှစ်ကျော်အောင်မြင်စွာ လုပ်ကိုင်နေပြီး ယုံကြည်စိတ်ချရသော ဝန်ဆောင်မှုများဖြင့် နာမည်ကြီးဝဘ်ဆိုဒ်တစ်ခုဖြစ်ပါတယ်။
  </p>

  <div id="loading">🔄 ပြောင်းနေသည်... ခဏစောင့်ပေးပါ</div>
  <div id="countdown"></div>

  <h2 class="select-title">ဆက်သွယ်လိုသော App ကို ရွေးချယ်ပါ။ (Viber လင့်နှိပ်ပါ No Service ပြသလာလျှင် OK နှိပ်ပြီး နောက်ထပ်တစ်ကြိမ် Viber လင့်ကိုထပ်နှိပ်ပေးပါရှင့်)</h2>

  <div class="btn-container">
    <button class="telegram" onclick="trackAndRedirect('telegram', 'Telegram Click')">
      📩 Telegram ဖြင့် ဆက်သွယ်ရန်
    </button>
    <button class="viber" onclick="trackAndRedirect('viber', 'Viber Click')">
      📞 Viber ဖြင့် ဆက်သွယ်ရန်
    </button>
    <button class="viber2" onclick="trackAndRedirect('viber2', 'Viber Link 2 Click')">
      📱 Viber Link ၂ ဖြင့် ဆက်သွယ်ရန်
    </button>
  </div>

  <div class="gallery">
    <img src="https://gb168mm.github.io/gb168mm/assets/post%202%20342.webp" 
         alt="GB168 Promotion 1" 
         loading="lazy"
         width="300"
         height="300">
    <img src="https://gb168mm.github.io/gb168mm/assets/epmt%20telegram%20photo%202.webp" 
         alt="GB168 Promotion 2" 
         loading="lazy"
         width="300"
         height="300">
    <img src="https://gb168mm.github.io/gb168mm/assets/tele%20photo%202.webp" 
         alt="GB168 Promotion 3" 
         loading="lazy"
         width="300"
         height="300">
  </div>

  <script>
    // စက္ကန့်နှိပ်ပြန်းမှုကိုပြသော Function
    function showCountdown() {
      try {
        const loadingEl = document.getElementById("loading");
        const countdownEl = document.getElementById("countdown");
        
        loadingEl.style.display = "block";
        countdownEl.style.display = "block";
        
        let seconds = 3;
        countdownEl.textContent = `${seconds} စက္ကန့်အတွင်း ပြောင်းသွားမည်...`;
        
        const interval = setInterval(() => {
          seconds--;
          countdownEl.textContent = seconds > 0 
            ? `${seconds} စက္ကန့်အတွင်း ပြောင်းသွားမည်...`
            : "ပြောင်းနေပါသည်...";
            
          if (seconds <= 0) clearInterval(interval);
        }, 1000);
      } catch (error) {
        console.error('Countdown error:', error);
      }
    }

    // Device Detection Functions
    function isAndroid() {
      return /android/i.test(navigator.userAgent);
    }
    
    function isIOS() {
      return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
    }

    // အဓိကလုပ်ဆောင်ချက် Function
    function trackAndRedirect(platform, eventLabel) {
      try {
        // Event Tracking
        trackFbEvent('Lead', {
          content_name: eventLabel
        });
        
        trackGaEvent('generate_lead', {
          event_label: eventLabel
        });
        
        // Countdown ပြခြင်း
        showCountdown();
        
        // Redirect URLs
        const urls = {
          telegram: "https://t.me/gb168mm1",
          viber: isAndroid() ? "viber://chat?number=%2B959402029342" : 
                 isIOS() ? "https://msng.link/o?959402029342=vi" : 
                 "https://web.viber.com",
          viber2: "https://msng.link/o?959402029342=vi"
        };
        
        // Android အတွက် Fallback Logic
        if (platform === 'viber' && isAndroid()) {
          setTimeout(() => {
            if (!document.hidden) {
              window.location.href = urls.viber2;
            }
          }, 2000);
        }
        
        // 3 စက္ကန့်ကြာပြီးမှ Redirect
        setTimeout(() => {
          window.location.href = urls[platform];
        }, 3000);
        
      } catch (error) {
        console.error('Tracking error:', error);
        // Error ဖြစ်ရင် Default Page ကိုပြောင်း
        window.location.href = urls[platform];
      }
    }
  </script>
</body>
</html>
